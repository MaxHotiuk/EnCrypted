<div class="min-h-screen bg-gray-50 py-8 px-4">
  <div class="max-w-5xl mx-auto">
    <div class="bg-white rounded-lg shadow-lg p-6">
      <h2 class="text-2xl font-bold mb-6">Encryption Task Progress</h2>

      <a routerLink="/task-list" class="text-blue-500 hover:underline">Back to All Tasks</a>

      <div class="mt-6">
        <p class="text-sm font-medium text-gray-700">Task Title</p>
        <p class="text-sm text-gray-500">{{taskData?.taskName}}</p>
        <p class="text-sm font-medium text-gray-700">Description</p>
        <p class="text-sm text-gray-500">{{taskData?.description}}</p>
        <p class="text-sm font-medium text-gray-700">Create Date</p>
        <p class="text-sm text-gray-500">{{taskData?.createdAt}}</p>
      </div>

      <div *ngIf="progress != -1 && progress != 100">
        <p class="text-sm font-medium text-gray-700">Task Progress</p>
        <mat-progress-bar mode="determinate" [value]="progress" class="h-2 rounded-full"></mat-progress-bar>
        <p class="text-sm text-gray-500 text-right">{{progress}}%</p>

        <button (click)="cancelTask()" class="mt-4 px-4 py-2 bg-red-600 text-white rounded">Cancel Task</button>
      </div>

      <div *ngIf="!isProcessing && result && progress != -1" class="mt-6 p-4 bg-gray-50 rounded-lg">
        <h3 class="text-lg font-medium mb-2">Encryption Result</h3>
        <pre class="whitespace-pre-wrap break-words text-sm">{{result}}</pre>
      </div>

      <div *ngIf="progress == -1" class="mt-6 p-4 bg-red-100 rounded-lg">
        <h3 class="text-lg font-medium text-red-600 mb-2">Task Cancelled</h3>
        <p class="text-sm text-gray-500">The task has been cancelled.</p>
      </div>
      <div *ngIf="error && error != 'Task was successfully canceled.'" class="mt-6 p-4 bg-red-100 rounded-lg">
        <h3 class="text-lg font-medium text-red-600 mb-2">Error</h3>
        <pre class="whitespace-pre-wrap break-words text-sm">{{error}}</pre>
      </div>
    </div>
  </div>
</div>
